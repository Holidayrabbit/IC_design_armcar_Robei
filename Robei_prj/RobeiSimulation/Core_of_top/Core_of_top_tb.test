<!DOCTYPE Robei>
<Module Code="&#x9;always #10 Clk = ~Clk;&#xa;&#x9;&#xa;&#x9;initial begin&#xa;        Clk = 1;&#xa;&#x9;    Rst_n = 0;&#xa;&#x9;    Read_temp_ok = 0;&#x9;&#x9;&#xa;&#x9;&#x9;Temp_data = 0;&#x9;&#x9;&#xa;&#x9;&#x9;CSB_data= 0;&#x9;&#x9;&#x9;&#xa;&#x9;    #200;&#xa;&#x9;&#x9;Rst_n = 1;&#xa;&#x9;&#x9;#200;&#xa;&#x9;&#x9;Read_temp_ok = 1;&#x9;&#x9;&#xa;&#x9;&#x9;Temp_data = 11'd35;&#x9;&#x9;&#xa;&#x9;&#x9;#200;&#xa;&#x9;&#x9;CSB_data = 14'd100;&#xa;&#x9;&#x9;Read_temp_ok = 1;&#x9;&#x9;&#xa;&#x9;&#x9;Temp_data = 11'd40;&#x9;&#xa;&#x9;&#x9;#200;&#xa;&#x9;&#x9;CSB_data = 14'd30;&#xa;&#x9;&#x9;Read_temp_ok = 1;&#x9;&#x9;&#xa;&#x9;&#x9;Temp_data = 11'd20;&#x9;&#xa;&#x9;&#xa;&#xa;&#x9;    #2000;&#xa;&#x9;    $finish;&#xa;&#x9;end&#xa;&#xa;&#xa;&#xa;" Height="600" Class="module" Type="testbench" Color="#d3d3d3" Name="Core_of_top_tb" Time_Scale="" Parent="0" Comment="" Include="" X="0" Y="0" Width="900" File="Current/Core_of_top_tb.test">
 <Module Code="&#x9;&#x9;&#x9;localparam  Min_distance   = 14'd50;   //报警距离&#xa;&#xa;&#xa;&#x9;&#x9;&#x9;reg [10:0] Temp_data_buffer;&#xa;&#x9;&#x9;&#x9;reg [15:0] CSB_data_buffer;&#xa;&#xa;&#xa;&#x9;&#x9;&#x9;always@(posedge Clk or negedge Rst_n)&#xa;&#x9;&#x9;&#x9;if(!Rst_n)begin&#xa;&#x9;&#x9;&#x9;&#x9;LM75A_EN &lt;= 0;&#xa;&#x9;&#x9;&#x9;&#x9;BUZZER_EN &lt;=0 ;&#xa;/*&#xa;&#x9;&#x9;&#x9;&#x9;LCD_EN &lt;= 0;&#xa;&#x9;&#x9;&#x9;&#x9;ARM_MOTOR_EN&lt;= 0;&#xa;&#x9;&#x9;&#x9;&#x9;CSB_EN&lt;= 0;&#xa;*/&#xa;&#x9;&#x9;&#x9;end&#xa;&#xa;&#x9;&#x9;&#x9;else begin&#xa;&#x9;&#x9;&#x9;&#x9;LM75A_EN &lt;= 1;&#xa;/*&#xa;&#x9;&#x9;&#x9;&#x9;LCD_EN &lt;= 1;&#xa;&#x9;&#x9;&#x9;&#x9;ARM_MOTOR_EN &lt;= 1;&#xa;&#x9;&#x9;&#x9;&#x9;CSB_EN&lt;= 1;&#xa;*/&#xa;&#x9;&#x9;&#x9;&#x9;Temp_data_buffer&lt;=Temp_data;&#xa;&#x9;&#x9;&#x9;&#x9;CSB_data_buffer&lt;=CSB_data;&#xa;&#x9;&#x9;&#x9;end&#xa;&#xa;/*&#xa;&#x9;&#x9;&#x9;always@(posedge Clk or negedge Rst_n)    //读取温度和超声波&#xa;&#x9;&#x9;&#x9;if(Read_temp_ok)&#xa;&#x9;&#x9;&#x9;&#x9;begin&#xa;&#x9;&#x9;&#x9;&#x9;TFT_DISPLAY &lt;={Temp_data_buffer,CSB_data_buffer} ;&#xa;&#x9;&#x9;&#x9;&#x9;end&#xa;&#x9;&#x9;&#x9;else&#xa;&#x9;&#x9;&#x9;&#x9;TFT_DISPLAY &lt;={11'd0,CSB_data_buffer} ;&#xa;*/&#xa;&#x9;&#x9;&#x9;always@(posedge Clk or negedge Rst_n)    //蜂鸣器报警&#xa;&#x9;&#x9;&#x9;if(!Rst_n)begin&#xa;&#xa;&#x9;&#x9;&#x9;&#x9;BUZZER_EN &lt;=0 ;&#xa;&#xa;&#xa;&#x9;&#x9;&#x9;end&#xa;&#xa;&#x9;&#x9;&#x9;else if(CSB_data_buffer&lt;=Min_distance)&#xa;&#x9;&#x9;&#x9;&#x9;begin&#xa;&#x9;&#x9;&#x9;&#x9;BUZZER_EN &lt;=1 ;&#xa;&#x9;&#x9;&#x9;&#x9;end&#xa;&#x9;&#x9;&#x9;else&#xa;&#x9;&#x9;&#x9;&#x9;BUZZER_EN &lt;=0 ;&#x9;&#xa;&#xa;&#x9;&#x9;&#x9;&#xa;" Parameters="" Height="160" Class="Core_of_top" Type="model" Color="#d3d3d3" Name="Core_of_top1" Parent="Core_of_top_tb" Comment="" Include="" X="314.266" Y="183.188" Width="160" File="Current/Core_of_top.model">
  <Port Connect="" Height="20" Function="" Color="#faebd7" Name="Read_temp_ok" Datasize="1" Parent="Core_of_top1" X="-0.125" Inout="input" Datatype="wire" Y="0.35" Width="20" Side="left"/>
  <Port Connect="" Height="20" Function="" Color="#00ffff" Name="Temp_data" Datasize="11" Parent="Core_of_top1" X="-0.125" Inout="input" Datatype="wire" Y="0.4875" Width="20" Side="left"/>
  <Port Connect="" Height="20" Function="" Color="#7fffd4" Name="CSB_data" Datasize="16" Parent="Core_of_top1" X="-0.125" Inout="input" Datatype="wire" Y="0.625" Width="20" Side="left"/>
  <Port Connect="" Height="20" Function="" Color="#b8860b" Name="LM75A_EN" Datasize="1" Parent="Core_of_top1" X="0.875" Inout="output" Datatype="reg" Y="0.1875" Width="20" Side="right"/>
  <Port Connect="" Height="20" Function="" Color="#ffebcd" Name="BUZZER_EN" Datasize="1" Parent="Core_of_top1" X="0.875" Inout="output" Datatype="reg" Y="0.4375" Width="20" Side="right"/>
  <Port Connect="" Height="20" Function="" Color="#a52a2a" Name="Clk" Datasize="1" Parent="Core_of_top1" X="-0.125" Inout="input" Datatype="wire" Y="0.075" Width="20" Side="left"/>
  <Port Connect="" Height="20" Function="" Color="#deb887" Name="Rst_n" Datasize="1" Parent="Core_of_top1" X="-0.125" Inout="input" Datatype="wire" Y="0.2125" Width="20" Side="left"/>
 </Module>
 <Port Height="20" Function="" Color="#faebd7" Name="Read_temp_ok" Datasize="1" Parent="Core_of_top_tb" X="-0.0222222" Inout="input" Datatype="reg" Y="0.125" Width="20" Side="left"/>
 <Port Height="20" Function="" Color="#00ffff" Name="Temp_data" Datasize="11" Parent="Core_of_top_tb" X="-0.0222222" Inout="input" Datatype="reg" Y="0.266667" Width="20" Side="left"/>
 <Port Height="20" Function="" Color="#7fffd4" Name="CSB_data" Datasize="16" Parent="Core_of_top_tb" X="-0.0222222" Inout="input" Datatype="reg" Y="0.408333" Width="20" Side="left"/>
 <Port Height="20" Function="" Color="#b8860b" Name="LM75A_EN" Datasize="1" Parent="Core_of_top_tb" X="0.977778" Inout="output" Datatype="wire" Y="0.233333" Width="20" Side="right"/>
 <Port Height="20" Function="" Color="#ffebcd" Name="BUZZER_EN" Datasize="1" Parent="Core_of_top_tb" X="0.977778" Inout="output" Datatype="wire" Y="0.483333" Width="20" Side="right"/>
 <Port Height="20" Function="" Color="#a52a2a" Name="Clk" Datasize="1" Parent="Core_of_top_tb" X="-0.0222222" Inout="input" Datatype="reg" Y="0.55" Width="20" Side="left"/>
 <Port Height="20" Function="" Color="#deb887" Name="Rst_n" Datasize="1" Parent="Core_of_top_tb" X="-0.0222222" Inout="input" Datatype="reg" Y="0.691667" Width="20" Side="left"/>
 <Wire To="Core_of_top_tb#Core_of_top1>Clk" Name="Core_of_top_tb_Clk" Datasize="1" Parent="Core_of_top_tb" Datatype="wire" From="Core_of_top_tb>Clk"/>
 <Wire To="Core_of_top_tb#Core_of_top1>Rst_n" Name="Core_of_top_tb_Rst_n" Datasize="1" Parent="Core_of_top_tb" Datatype="wire" From="Core_of_top_tb>Rst_n"/>
 <Wire To="Core_of_top_tb#Core_of_top1>CSB_data" Name="Core_of_top_tb_CSB_data" Datasize="16" Parent="Core_of_top_tb" Datatype="wire" From="Core_of_top_tb>CSB_data"/>
 <Wire To="Core_of_top_tb#Core_of_top1>Temp_data" Name="Core_of_top_tb_Temp_data" Datasize="11" Parent="Core_of_top_tb" Datatype="wire" From="Core_of_top_tb>Temp_data"/>
 <Wire To="Core_of_top_tb#Core_of_top1>Read_temp_ok" Name="Core_of_top_tb_Read_temp_ok" Datasize="1" Parent="Core_of_top_tb" Datatype="wire" From="Core_of_top_tb>Read_temp_ok"/>
 <Wire To="Core_of_top_tb>LM75A_EN" Name="Core_of_top1_LM75A_EN" Datasize="1" Parent="Core_of_top_tb" Datatype="wire" From="Core_of_top_tb#Core_of_top1>LM75A_EN"/>
 <Wire To="Core_of_top_tb>BUZZER_EN" Name="Core_of_top1_BUZZER_EN" Datasize="1" Parent="Core_of_top_tb" Datatype="wire" From="Core_of_top_tb#Core_of_top1>BUZZER_EN"/>
</Module>
